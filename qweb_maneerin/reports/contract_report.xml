<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- ประกาศโมเดล Contract -->
    <record id="model_contract_contract" model="ir.model">
        <field name="name">Contract Model</field>
        <field name="model">maneerincode.code</field>
    </record>

    <!-- ประกาศรายงาน -->
    <record id="action_report_contract" model="ir.actions.report">
        <field name="name">Print Contract</field>
        <field name="model">maneerincode.code</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">report_contract_custom</field>
        <field name="report_file">report_contract_custom</field>
        <field name="print_report_name">'Contract - %s' % (object.name)</field>
        <field name="paperformat_id" ref="paperformat_contract_report"/>
        <field name="binding_model_id" ref="model_contract_contract"/> <!-- ใช้ ID ของโมเดล -->
        <field name="binding_type">report</field>
    </record>

    <!-- ประกาศ Paperformat สำหรับรายงาน -->
    <record id="paperformat_contract_report" model="report.paperformat">
        <field name="name">Contract Paperformat</field>
        <field name="default" eval="True"/>
        <field name="format">A4</field>
        <field name="orientation">portrait</field>
        <field name="margin_top">10</field>
        <field name="margin_bottom">10</field>
        <field name="margin_left">10</field>
        <field name="margin_right">10</field>
    </record>

    <!-- รายงาน QWeb -->
    <template id="report_contract_custom">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <h2>Contract: <t t-esc="doc.name"/></h2>
                    <p>Details of contract...</p>
                </div>
            </t>
        </t>
    </template>
</odoo>
